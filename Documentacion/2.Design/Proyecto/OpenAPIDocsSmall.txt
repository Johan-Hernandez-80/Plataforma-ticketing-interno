{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Usuarios","description":"Operaciones relacionadas con los usuarios"},{"name":"Authentication","description":"Endpoints for user authentication and JWT token retrieval"},{"name":"Admin","description":"Operaciones relacionadas con el admin"},{"name":"Categorias","description":"Operaciones relacionadas con las categorías"},{"name":"Tickets","description":"Operaciones relacionadas con los tiquetes"}],"paths":{"/categorias/{id}":{"get":{"tags":["Categorias"],"summary":"Obtener categoría por ID","description":"Devuelve una categoría por su ID.","operationId":"getById","parameters":[{"name":"id","in":"path","description":"ID de la categoría a consultar","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Categoría encontrada","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaDTO"}}}},"404":{"description":"Categoría no encontrada","content":{"*/*":{"schema":{"type":"string","example":{"error":"Categoría no encontrada"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}},"put":{"tags":["Categorias"],"summary":"Actualizar categoría","description":"Actualiza los datos de una categoría existente.","operationId":"update","parameters":[{"name":"id","in":"path","description":"ID de la categoría a actualizar","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaDTO"}}},"required":true},"responses":{"200":{"description":"Categoría actualizada correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaDTO"}}}},"400":{"description":"Datos inválidos o nombre ya en uso","content":{"*/*":{"schema":{"type":"string","example":{"error":"Datos inválidos"}}}}},"401":{"description":"Permisos insuficientes","content":{"*/*":{"schema":{"type":"string","example":{"error":"No autorizado"}}}}},"404":{"description":"Categoría no encontrada","content":{"*/*":{"schema":{"type":"string","example":{"error":"Categoría no encontrada"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}},"delete":{"tags":["Categorias"],"summary":"Eliminar categoría","description":"Elimina una categoría por su ID.","operationId":"delete","parameters":[{"name":"id","in":"path","description":"ID de la categoría a eliminar","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Categoría eliminada correctamente","content":{"*/*":{"schema":{"type":"object"}}}},"404":{"description":"Categoría no encontrada","content":{"*/*":{"schema":{"type":"string","example":{"error":"Categoría no encontrada"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/usuarios":{"post":{"tags":["Usuarios"],"summary":"Crear cuenta de usuario","description":"Permite al administrador crear cuentas de usuarios con rol de empleado o agente. Si los datos enviados son inválidos o ocurre un error interno, se devuelven los errores correspondientes.","operationId":"createUsuario","requestBody":{"description":"Datos del nuevo usuario","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}},"required":true},"responses":{"201":{"description":"Usuario creado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Datos inválidos.","detalles":["El correo electrónico no es válido","La contraseña debe tener mínimo 8 caracteres"]}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene permiso para usar este endpoint"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets":{"get":{"tags":["Tickets"],"summary":"Consultar tickets","description":"Permite a un empleado autenticado obtener la lista de tickets creados, filtrando opcionalmente por estado, prioridad y usuario.","operationId":"getTickets","parameters":[{"name":"estado","in":"query","description":"Estado del ticket (ej: En progreso, Pendiente, Cerrado)","required":false,"schema":{"type":"string"}},{"name":"prioridad","in":"query","description":"Prioridad del ticket (ej: Urgente, Importante, Programado)","required":false,"schema":{"type":"string"}},{"name":"usuarioId","in":"query","description":"ID del usuario creador del ticket","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Tickets obtenidos correctamente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TicketDTO"}}}}},"400":{"description":"Parámetros de consulta inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Parámetros de consulta inválidos.","detalles":["El valor 'urgenteee' no es una prioridad válida"]}}}}},"401":{"description":"Autorización inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"Autorización inválida.","detalle":["No tiene permiso para ver los tiquetes del usuario con id 78"]}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}},"post":{"tags":["Tickets"],"summary":"Crear un nuevo ticket","description":"Permite a un empleado autenticado crear un nuevo ticket en el sistema, proporcionando los datos requeridos como categoría, título, descripción y prioridad.","operationId":"createTicket","requestBody":{"description":"Datos del nuevo ticket","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}},"required":true},"responses":{"201":{"description":"Ticket creado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Datos inválidos en la solicitud.","detalles":["Campo obligatorio faltante o incorrecto"]}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"Usuario no autorizado."}}}}},"404":{"description":"Recurso no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"Recurso no encontrado.","detalles":"Usuario o categoría inexistente"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/{ticketId}/comments":{"post":{"tags":["Tickets"],"summary":"Agregar un comentario a un ticket","description":"Permite a un agente agregar un comentario a un ticket existente, siempre que tenga permiso para hacerlo.","operationId":"createComentario","parameters":[{"name":"ticketId","in":"path","description":"ID del ticket al cual se agregará el comentario","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Datos del comentario","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComentarioDTO"}}},"required":true},"responses":{"201":{"description":"Comentario creado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComentarioDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Los datos enviados son inválidos o faltan campos obligatorios"}}}}},"401":{"description":"Permisos insuficientes","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene suficientes permisos"}}}}},"404":{"description":"Ticket no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"El ticket no existe o no fue encontrado"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/{idTicket}":{"get":{"tags":["Tickets"],"summary":"Obtener información de un ticket por ID","description":"Devuelve los detalles completos de un ticket existente, siempre que el usuario tenga permisos para consultarlo.","operationId":"getTicketById","parameters":[{"name":"idTicket","in":"path","description":"ID del ticket a consultar","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Ticket obtenido correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}}},"400":{"description":"Solicitud inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"ID de ticket inválido.","detalles":"El parámetro idTicket debe ser un número válido."}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene permiso para ver este tiquete"}}}}},"404":{"description":"Ticket no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No se encontró el ticket solicitado."}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}},"post":{"tags":["Tickets"],"summary":"Reasignar un ticket a un agente","description":"Permite al administrador reasignar un ticket existente a un agente disponible.","operationId":"reasignarTicket","parameters":[{"name":"idTicket","in":"path","description":"ID del ticket a reasignar","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Datos con el ID del nuevo agente","content":{"application/json":{"schema":{"type":"string","example":{"agenteId":123}}}},"required":true},"responses":{"201":{"description":"Ticket reasignado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Los datos enviados son inválidos"}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene permiso para usar este endpoint"}}}}},"404":{"description":"Ticket o agente no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No se encontró el ticket o el agente solicitado"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/categorias":{"get":{"tags":["Categorias"],"summary":"Listar categorías","description":"Obtiene la lista completa de categorías.","operationId":"list","responses":{"200":{"description":"Lista de categorías obtenida","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoriaDTO"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}},"post":{"tags":["Categorias"],"summary":"Crear categoría","description":"Crea una nueva categoría. El nombre debe ser único.","operationId":"create","requestBody":{"description":"Datos de la categoría a crear","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriaDTO"}}},"required":true},"responses":{"201":{"description":"Categoría creada correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoriaDTO"}}}},"400":{"description":"Datos inválidos o categoría existente","content":{"*/*":{"schema":{"type":"string","example":{"error":"Nombre ya existe o datos inválidos"}}}}},"401":{"description":"Permisos insuficientes","content":{"*/*":{"schema":{"type":"string","example":{"error":"No autorizado"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/auth/login":{"post":{"tags":["Authentication"],"summary":"Login del usuario","description":"Autentica un usuario usando email y contraseña y retorna un token valido","operationId":"login","requestBody":{"description":"Credenciales para login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Autenticación exitosa, token retornado","content":{"application/json":{"schema":{"type":"string","example":{"token":"<jwt-token>"}}}}},"401":{"description":"Autenticación fallida, credenciales inválidas"},"500":{"description":"Error interno del servidor"},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/usuarios/{idUsuario}":{"patch":{"tags":["Usuarios"],"summary":"Modificar datos personales de un usuario","description":"Permite a un usuario autenticado modificar parcialmente su perfil, incluyendo correo personal y contraseña. Si los datos enviados son inválidos, el usuario no existe, o ocurre un error interno, se devuelven los errores correspondientes.","operationId":"updateUsuario","parameters":[{"name":"idUsuario","in":"path","description":"ID del usuario","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Datos a actualizar (parcialmente)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}},"required":true},"responses":{"200":{"description":"Usuario actualizado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Datos inválidos.","detalles":["El correo electrónico no es válido","La contraseña debe tener mínimo 8 caracteres"]}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"Datos inválidos.","detalles":["No tiene permisos para actualizar el rol del usuario"]}}}}},"404":{"description":"Usuario no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"mensaje":"Usuario no encontrado."}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/{idTicket}/prioridad":{"patch":{"tags":["Tickets"],"summary":"Actualizar prioridad de un ticket","description":"Permite actualizar la prioridad de un ticket existente, siempre que el usuario tenga permiso para modificarlo.","operationId":"updatePrioridad","parameters":[{"name":"idTicket","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrioridadDTO"}}},"required":true},"responses":{"200":{"description":"Prioridad actualizada correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}}},"400":{"description":"Datos inválidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"El valor de la prioridad no es válido"}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene permiso de enviar notificaciones"}}}}},"404":{"description":"Ticket no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"El ticket no existe"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/{idTicket}/cerrar":{"patch":{"tags":["Tickets"],"summary":"Cerrar un ticket","description":"Permite cerrar un ticket existente cambiando su estado a 'cerrado'.","operationId":"cerrarTicket","parameters":[{"name":"idTicket","in":"path","description":"ID del ticket a cerrar","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Ticket cerrado correctamente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketDTO"}}}},"400":{"description":"Solicitud inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"Solicitud inválida para cerrar el ticket"}}}}},"401":{"description":"No autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No tiene permiso de enviar notificaciones"}}}}},"404":{"description":"Ticket no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"El ticket no fue encontrado"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/usuarios/{idUsuario}/notificaciones":{"get":{"tags":["Usuarios"],"summary":"Consultar notificaciones de un usuario","description":"Permite a un usuario autenticado obtener la lista de notificaciones generadas por el sistema, relacionadas con tickets, asignaciones o actualizaciones. Si el usuario no existe o los parámetros son inválidos, se devuelven los errores correspondientes.","operationId":"getNotificacionesById","parameters":[{"name":"idUsuario","in":"path","description":"ID del usuario","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Notificaciones obtenidas correctamente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notificacion"}}}}},"400":{"description":"Solicitud inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"Solicitud inválida.","detalles":"Los parámetros enviados son incorrectos."}}}}},"404":{"description":"Usuario no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"mensaje":"Usuario no encontrado."}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/{idTicket}/comentarios":{"get":{"tags":["Tickets"],"summary":"Consultar comentarios de un ticket","description":"Devuelve la lista de comentarios asociados a un ticket específico, mostrando el historial del proceso desde su creación hasta la resolución.","operationId":"getComentariosByTicketId","parameters":[{"name":"idTicket","in":"path","description":"ID del ticket a consultar","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Comentarios obtenidos correctamente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComentarioDTO"}}}}},"400":{"description":"Solicitud inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"ID de ticket inválido.","detalles":"El parámetro idTicket debe ser un número válido."}}}}},"404":{"description":"Ticket no encontrado","content":{"*/*":{"schema":{"type":"string","example":{"error":"No se encontro un ticket con este id"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/tickets/filtered":{"get":{"tags":["Tickets"],"summary":"Consultar tickets filtrados","description":"Permite obtener todos los tickets aplicando filtros por estado, prioridad, agente o fecha.","operationId":"getTicketsFiltrados","parameters":[{"name":"estado","in":"query","description":"Estado del ticket (ej: pendiente, cerrado, en progreso)","required":false,"schema":{"type":"string"}},{"name":"prioridad","in":"query","description":"Prioridad del ticket (ej: urgente, importante, programado)","required":false,"schema":{"type":"string"}},{"name":"agenteId","in":"query","description":"ID del agente asignado al ticket","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"fecha","in":"query","description":"Fecha de creación del ticket (formato: yyyy-MM-dd)","required":false,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Tickets obtenidos correctamente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TicketDTO"}}}}},"400":{"description":"Filtros inválidos o valores no reconocidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Filtros inválidos o valores no reconocidos"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/agentes/{agenteId}/tickets":{"get":{"tags":["agente-controller"],"summary":"Consultar tickets filtrados para un agente","description":"Permite obtener todos los tickets aplicando filtros por estado, prioridad, agente o fecha.","operationId":"getTicketsFiltrados_1","parameters":[{"name":"agenteId","in":"path","description":"ID del agente asignado al ticket","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"estado","in":"query","description":"Estado del ticket (ej: pendiente, cerrado, en progreso)","required":false,"schema":{"type":"string"}},{"name":"prioridad","in":"query","description":"Prioridad del ticket (ej: urgente, importante, programado)","required":false,"schema":{"type":"string"}},{"name":"fecha","in":"query","description":"Fecha de creación del ticket (formato: yyyy-MM-dd)","required":false,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"Tickets obtenidos correctamente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TicketDTO"}}}}},"400":{"description":"Filtros inválidos o valores no reconocidos","content":{"*/*":{"schema":{"type":"string","example":{"error":"Filtros inválidos o valores no reconocidos"}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/admin/estadisticas":{"get":{"tags":["Admin"],"summary":"Obtener métricas del sistema","description":"Permite al administrador visualizar las métricas generales del sistema, incluyendo tickets abiertos, cerrados, empleados y agentes activos.","operationId":"getEstadisticas","responses":{"200":{"description":"Métricas obtenidas correctamente","content":{"*/*":{"schema":{"type":"string","example":{"ticketsAbiertos":15,"ticketsCerrados":40,"empleadosActivos":25,"agentesActivos":5}}}}},"401":{"description":"Token inválido o usuario no autorizado","content":{"*/*":{"schema":{"type":"string","example":{"error":"Autorización inválida."}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}},"/admin/estadisticas/exportar/pdf":{"get":{"tags":["Admin"],"summary":"Exportar informes del sistema en PDF","description":"Permite al administrador exportar los informes del sistema en formato PDF. El archivo generado contiene las métricas y estadísticas actuales del sistema, y se devuelve como archivo descargable.","operationId":"exportarInformePDF","responses":{"200":{"description":"Archivo PDF generado correctamente","content":{"application/pdf":{"schema":{"type":"string","format":"binary"}}}},"401":{"description":"Autorización inválida","content":{"*/*":{"schema":{"type":"string","example":{"error":"Autorización inválida.","detalle":"Token no válido o expirado."}}}}},"500":{"description":"Error interno del servidor","content":{"*/*":{"schema":{"type":"string","example":{"error":"Error interno del servidor. Intente nuevamente más tarde."}}}}},"403":{"description":"Acceso denegado. Token inválido o expirado."}}}}},"components":{"schemas":{"CategoriaDTO":{"type":"object","description":"DTO for Categoria. Only includes attributes the current user has permission to view. Field visibility depends on the user's roles and permissions.","properties":{"id":{"type":"integer","format":"int64","description":"Identificador único del categoria.","example":1},"nombre":{"type":"string","description":"Nombre del categoria.","example":"Juan Armando","maxLength":255,"minLength":0},"descripcion":{"type":"string","description":"Descripción del categoria.","example":"No hay conexión a internet","maxLength":255,"minLength":0}}},"UsuarioDTO":{"type":"object","description":"DTO para usuario. Solo incluye los atributos que el usuario autenticado tiene permiso para usar. La visibilidad de los campos depende del rol y permisos del usuario.","properties":{"id":{"type":"integer","format":"int64","description":"Identificador único del usuario.","example":1},"rolId":{"type":"integer","format":"int64","description":"ID del rol asignado al usuario.","example":1},"nombre":{"type":"string","description":"Nombre del usuario.","example":"Juan Armando","maxLength":255,"minLength":0},"emailPersonal":{"type":"string","format":"email","description":"Correo personal del usuario.","example":"juan@email.com","maxLength":255,"minLength":0,"pattern":"\\S+"},"emailCorporativo":{"type":"string","format":"email","description":"Correo corporativo del usuario.","example":"juan@empresa.com","maxLength":255,"minLength":0,"pattern":"\\S+"},"contrasena":{"type":"string","description":"Contraseña del usuario.","example":"juan1234","maxLength":255,"minLength":0,"pattern":"\\S+"},"departamento":{"type":"string","description":"Departamento del usuario.","example":"Contaduría","maxLength":255,"minLength":0}}},"TicketDTO":{"type":"object","description":"DTO para Ticket. Solo incluye los atributos a los que el usuario tiene permiso de ver. La visibilidad de campos depende del rol del usuario.","properties":{"id":{"type":"integer","format":"int64","description":"Identificador único del ticket.","example":1},"usuarioId":{"type":"integer","format":"int64","description":"ID del usuario relacionado con el ticket.","example":1},"agenteId":{"type":"integer","format":"int64","description":"ID del agente asignado al ticket.","example":1},"categoriaId":{"type":"integer","format":"int64","description":"ID de la categoría relacionada con el ticket.","example":1},"titulo":{"type":"string","description":"Título del ticket.","example":"Problema de red","maxLength":255,"minLength":0},"descripcion":{"type":"string","description":"Descripción del ticket.","example":"No hay conexión a internet","maxLength":1000,"minLength":0},"prioridad":{"type":"string","description":"Prioridad del ticket (Urgente, Importante, Programado).","example":"Urgente"},"estado":{"type":"string","description":"Estado del ticket (Pendiente, En progreso, Cerrado).","example":"Pendiente"},"fechaCreacion":{"type":"string","format":"date-time","description":"Fecha de creación del ticket.","example":"2025-10-14 09:30:00"},"fechaCierre":{"type":"string","format":"date-time","description":"Fecha de cierre del ticket.","example":"2025-10-16 16:45:00"}}},"ComentarioDTO":{"type":"object","description":"DTO para Comentario. Solo incluye los atributos a los que el usuario tiene permiso de ver. La visibilidad de campos depende del rol del usuario.","properties":{"id":{"type":"integer","format":"int64","description":"Identificador único del comentario.","example":1},"ticketId":{"type":"integer","format":"int64","description":"ID del ticket relacionado con el comentario.","example":1},"usuarioId":{"type":"integer","format":"int64","description":"ID del usuario relacionado con el comentario.","example":1},"comentario":{"type":"string","description":"Comentario asociado al comentario.","example":"Se encontró que la impresora estaba desconectada","maxLength":1000,"minLength":0},"fechaCreacion":{"type":"string","format":"date-time","description":"Fecha de creación del comentario.","example":"2025-10-14 09:30:00"}},"required":["usuarioId"]},"LoginRequest":{"type":"object","description":"Credenciales se login, email y contraseña","properties":{"email":{"type":"string","description":"Correo electrónico del loginrequest (personal o corporativo).","example":"usuario@empresa.com"},"password":{"type":"string","description":"Contraseña del loginrequest.","example":"1234"}}},"PrioridadDTO":{"type":"object","description":"DTO para la prioridad de un ticket.","properties":{"prioridad":{"type":"string","description":"Prioridad del prioridad (Urgente, Importante, Programado).","example":"Urgente"}}},"Notificacion":{"type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Identificador único del notificacion.","example":1},"usuarioId":{"type":"integer","format":"int64","description":"ID del usuario relacionado con el notificacion.","example":1},"mensaje":{"type":"string","description":"Mensaje de la notificación del notificacion.","example":"Nueva notificación asignada"},"fechaCreacion":{"type":"string","format":"date-time","description":"Fecha de creación del notificacion.","example":"2025-10-14 09:30:00"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}