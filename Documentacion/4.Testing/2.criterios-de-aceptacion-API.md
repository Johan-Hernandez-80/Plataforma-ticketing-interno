# ðŸ“„ Criterios de AceptaciÃ³n â€” Sistema de Ticketing Interno

Este documento contiene los criterios de aceptaciÃ³n derivados de las historias de
usuario, organizados por rol (Empleado, Agente, Admin), en el contexto de la `API`.

[Historias de usuario](../1.Requirements/3.UserStories.md)

## ðŸ‘¤ Empleado

### `HU-01` â€” Iniciar sesiÃ³n

- MÃ©todo HTTP `POST`
- Endpoint `/auth/login`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "token": "<jwt-token>"
}
```

---

### `HU-02` â€” Crear un ticket

- MÃ©todo HTTP `POST`
- Endpoint `/tickets`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:49:10.274Z",
  "fechaCierre": "2025-09-13T23:49:10.274Z"
}
```

---

### `HU-03` â€” Ver tabla de tickets

- MÃ©todo HTTP `GET`
- Endpoint `/tickets`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "categoriaId": 0,
    "titulo": "string",
    "descripcion": "string",
    "prioridad": "string",
    "estado": "string",
    "fechaCreacion": "2025-09-13T23:51:22.669Z",
    "fechaCierre": "2025-09-13T23:51:22.669Z"
  }
]
```

---

### `HU-04` â€” Ver detalles de ticket

- MÃ©todo HTTP `GET`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:52:57.576Z",
  "fechaCierre": "2025-09-13T23:52:57.576Z"
}
```

---

### `HU-05` â€” Ver proceso del ticket

- MÃ©todo HTTP `GET`
- Endpoint `/comentarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "ticketId": 0,
    "usuarioId": 0,
    "comentario": "string",
    "fechaCreacion": "2025-09-13T23:58:27.793Z"
  }
]
```

---

### `HU-06` â€” Estar notificado

- MÃ©todo HTTP `GET`
- Endpoint `/notificaciones`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "mensaje": "string",
    "fechaCreacion": "2025-09-14T00:01:56.567Z"
  }
]
```

---

### `HU-07` â€” Cambiar contraseÃ±a y datos

- MÃ©todo HTTP `PATCH`
- Endpoint `/usuarios/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "rolId": 0,
  "nombre": "string",
  "emailPersonal": "string",
  "emailCorporativo": "string",
  "contrasena": "string",
  "departamento": "string"
}
```

---

### `HU-08` â€” Cerrar sesiÃ³n

- Esta historia de usuario no requiere ningÃºn acceso a un endpoint

---

## ðŸ’¼ Agente

### `HU-01` â€” Iniciar sesiÃ³n

- MÃ©todo HTTP `POST`
- Endpoint `/auth/login`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "token": "<jwt-token>"
}
```

---

### `HU-02` â€” Ver tabla de tickets asignados

ðŸš§ Pendiente de definiciÃ³n

---

### `HU-03` â€” Ver informaciÃ³n de ticket

- MÃ©todo HTTP `GET`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:52:57.576Z",
  "fechaCierre": "2025-09-13T23:52:57.576Z"
}
```

---

### HU-04 - Ver proceso del ticket

- MÃ©todo HTTP `GET`
- Endpoint `/comentarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "ticketId": 0,
    "usuarioId": 0,
    "comentario": "string",
    "fechaCreacion": "2025-09-13T23:58:27.793Z"
  }
]
```

### `HU-05` â€” Ver historial de tickets

- MÃ©todo HTTP `GET`
- Endpoint `/tickets`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "categoriaId": 0,
    "titulo": "string",
    "descripcion": "string",
    "prioridad": "string",
    "estado": "string",
    "fechaCreacion": "2025-09-13T23:51:22.669Z",
    "fechaCierre": "2025-09-13T23:51:22.669Z"
  }
]
```

---

### `HU-06` â€” Comentar en proceso de ticket

- MÃ©todo HTTP `POST`
- Endpoint `/comentarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "ticketId": 0,
  "usuarioId": 0,
  "comentario": "string",
  "fechaCreacion": "2025-09-14T01:01:35.589Z"
}
```

---

### `HU-07` â€” Estar notificado sobre tickets asignados

- MÃ©todo HTTP `GET`
- Endpoint `/notificaciones`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "mensaje": "string",
    "fechaCreacion": "2025-09-14T00:01:56.567Z"
  }
]
```

---

### `HU-08` â€” Cambiar prioridad del ticket

- MÃ©todo HTTP `PATCH`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-14T01:12:09.661Z",
  "fechaCierre": "2025-09-14T01:12:09.661Z"
}
```

---

### `HU-09` â€” Cerrar ticket

- MÃ©todo HTTP `PATCH`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-14T01:12:09.661Z",
  "fechaCierre": "2025-09-14T01:12:09.661Z"
}
```

---

### `HU-10` â€” Cambiar contraseÃ±a y datos

- MÃ©todo HTTP `PATCH`
- Endpoint `/usuarios/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "rolId": 0,
  "nombre": "string",
  "emailPersonal": "string",
  "emailCorporativo": "string",
  "contrasena": "string",
  "departamento": "string"
}
```

---

### `HU-11` â€” Cerrar sesiÃ³n

- Esta historia de usuario no requiere ningÃºn acceso a un endpoint

---

## ðŸ’» Admin

### `HU-01` â€” Iniciar sesiÃ³n con cuenta por defecto

- MÃ©todo HTTP `POST`
- Endpoint `/auth/login`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "token": "<jwt-token>"
}
```

---

### `HU-02` â€” Reasignar tickets

- MÃ©todo HTTP `PATCH`
- Endpoint `/asignaciones/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "ticketId": 0,
  "agenteId": 0,
  "fechaCreacion": "2025-09-14T01:18:03.732Z"
}
```

---

### `HU-03` â€” Crear categorÃ­as

- MÃ©todo HTTP `POST`
- Endpoint `/categorias`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "nombre": "string",
  "descripcion": "string"
}
```

---

### `HU-04` â€” Crear cuentas de empleados y agentes

- MÃ©todo HTTP `POST`
- Endpoint `/usuarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "rolId": 0,
  "nombre": "string",
  "emailPersonal": "string",
  "emailCorporativo": "string",
  "contrasena": "string",
  "departamento": "string"
}
```

---

### `HU-05` â€” Ver tabla de todos los tickets

- MÃ©todo HTTP `GET`
- Endpoint `/tickets`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "categoriaId": 0,
    "titulo": "string",
    "descripcion": "string",
    "prioridad": "string",
    "estado": "string",
    "fechaCreacion": "2025-09-13T23:51:22.669Z",
    "fechaCierre": "2025-09-13T23:51:22.669Z"
  }
]
```

---

### `HU-06` â€” Ver proceso del ticket

- MÃ©todo HTTP `GET`
- Endpoint `/comentarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
[
  {
    "id": 0,
    "ticketId": 0,
    "usuarioId": 0,
    "comentario": "string",
    "fechaCreacion": "2025-09-13T23:58:27.793Z"
  }
]
```

---

### `HU-07` â€” Ver informaciÃ³n completa del ticket

- MÃ©todo HTTP `GET`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:52:57.576Z",
  "fechaCierre": "2025-09-13T23:52:57.576Z"
}
```

---

### `HU-08` â€” Comentar en el proceso

- MÃ©todo HTTP `POST`
- Endpoint `/comentarios`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "ticketId": 0,
  "usuarioId": 0,
  "comentario": "string",
  "fechaCreacion": "2025-09-14T01:01:35.589Z"
}
```

---

### `HU-09` â€” Cerrar ticket

- MÃ©todo HTTP `PATCH`
- Endpoint `/tickets/{id}`
- El cÃ³digo de estado HTTP retornado debe ser `200`
- El cuerpo de la respuesta debe tener esta estructura

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-14T01:12:09.661Z",
  "fechaCierre": "2025-09-14T01:12:09.661Z"
}
```

---

### `HU-10` â€” Exportar informes en PDF

ðŸš§ Pendiente de definiciÃ³n

---

### `HU-11` â€” Ver dashboard con mÃ©tricas

ðŸš§ Pendiente de definiciÃ³n

### `HU-12` â€” Cerrar sesiÃ³n

- Esta historia de usuario no requiere ningÃºn acceso a un endpoint

---
