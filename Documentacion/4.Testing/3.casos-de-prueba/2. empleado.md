# Casos de prueba para Empleado

### `CP-02`

- **Caso de Prueba**: Crear un ticket
- **Endpoint**: `/tickets`
- **Método HTTP**: `POST`
- **Descripción**: Permite al empleado crear un nuevo ticket de soporte.
- **Parámetros**: Requiere un cuerpo con la siguiente estructura:

```json
{
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string"
}
```

- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve un ticket con la siguiente estructura:

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:49:10.274Z",
  "fechaCierre": "2025-09-13T23:49:10.274Z"
}
```

---

### `CP-03`

- **Caso de Prueba**: Ver tabla de tickets creados
- **Endpoint**: `/tickets`
- **Método HTTP**: `GET`
- **Descripción**: Muestra una lista de tickets creados por el empleado autenticado.
- **Parámetros**: Ninguno
- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve un arreglo con uno o más tickets:

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "categoriaId": 0,
    "titulo": "string",
    "descripcion": "string",
    "prioridad": "string",
    "estado": "string",
    "fechaCreacion": "2025-09-13T23:51:22.669Z",
    "fechaCierre": "2025-09-13T23:51:22.669Z"
  }
]
```

---

### `CP-04`

- **Caso de Prueba**: Ver detalles de un ticket
- **Endpoint**: `/tickets/{id}`
- **Método HTTP**: `GET`
- **Descripción**: Muestra los detalles completos de un ticket específico.
- **Parámetros**: ID del ticket en la URL
- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve un objeto con los datos del ticket:

```json
{
  "id": 0,
  "usuarioId": 0,
  "categoriaId": 0,
  "titulo": "string",
  "descripcion": "string",
  "prioridad": "string",
  "estado": "string",
  "fechaCreacion": "2025-09-13T23:52:57.576Z",
  "fechaCierre": "2025-09-13T23:52:57.576Z"
}
```

---

### `CP-05`

- **Caso de Prueba**: Ver proceso del ticket (comentarios)
- **Endpoint**: `/comentarios`
- **Método HTTP**: `GET`
- **Descripción**: Muestra los comentarios realizados sobre los tickets del empleado.
- **Parámetros**: Puede incluir filtros como `ticketId` (opcional)
- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve un arreglo con los comentarios:

```json
[
  {
    "id": 0,
    "ticketId": 0,
    "usuarioId": 0,
    "comentario": "string",
    "fechaCreacion": "2025-09-13T23:58:27.793Z"
  }
]
```

---

### `CP-06`

- **Caso de Prueba**: Ver notificaciones del sistema
- **Endpoint**: `/notificaciones`
- **Método HTTP**: `GET`
- **Descripción**: Permite al empleado consultar las notificaciones recibidas.
- **Parámetros**: Ninguno
- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve un arreglo con las notificaciones:

```json
[
  {
    "id": 0,
    "usuarioId": 0,
    "mensaje": "string",
    "fechaCreacion": "2025-09-14T00:01:56.567Z"
  }
]
```

---

### `CP-07`

- **Caso de Prueba**: Modificar contraseña y datos personales
- **Endpoint**: `/usuarios/{id}`
- **Método HTTP**: `PATCH`
- **Descripción**: Permite al empleado actualizar su información y contraseña.
- **Parámetros**: Requiere un cuerpo como el siguiente:

```json
{
  "nombre": "string",
  "emailPersonal": "string",
  "emailCorporativo": "string",
  "contrasena": "string",
  "departamento": "string"
}
```

- **Headers**: `Authorization: Bearer <jwt-token>`
- **Código de Respuesta Esperado**: `200 OK`
- **Prueba Exitosa si**: La API devuelve el nuevo estado actualizado del usuario:

```json
{
  "id": 0,
  "rolId": 0,
  "nombre": "string",
  "emailPersonal": "string",
  "emailCorporativo": "string",
  "contrasena": "string",
  "departamento": "string"
}
```
